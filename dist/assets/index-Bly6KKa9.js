(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const b=document.querySelector(".movies-page__content"),L=document.querySelector(".moviesArrow_buttonNext"),w=document.querySelector(".moviesArrow_buttonPrev");let m=[],c=0,y=5;async function T(){try{m=(await(await fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/collections?type=TOP_250_MOVIES&page=1",{method:"GET",headers:{"X-API-KEY":"dd146e83-6098-4c58-bea6-a52186942de2","Content-Type":"application/json"}})).json()).items,console.log(m),P(c,y)}catch(i){document.querySelector(".movies-page__title").innerHTML=`Кажется, что-то пошло не так: ${i.message}`,L.style.display="none";const n=document.createElement("img");n.style.margin="0 auto",n.src="src/img/popular/foni-papik-pro-8htj-p-kartinki-oshibka-na-prozrachnom-fone-25.png",b.append(n)}}function P(i,n){for(let t=i;t<n;t++){let a=document.createElement("div");a.classList.add("movies-page__content-item");let e=document.createElement("img");e.classList.add("movies-page__movie-image"),e.src=`${m[t].posterUrlPreview}`,e.alt=`${m[t].nameRu}`;let o=document.createElement("p");o.classList.add("movies-page__movie-info"),o.textContent=`${m[t].nameRu} (${m[t].year})`;let r=document.createElement("p");r.classList.add("movies-page__movie-genres"),r.textContent=`${m[t].genres.map(f=>`${f.genre}`).join(", ")}`;const s=document.createElement("a");s.textContent="Смотреть",s.className="movies-page__watch-button",s.setAttribute("href",`https://www.kinopoisk.ru/film/${m[t].kinopoiskId}/`),s.setAttribute("target","blank"),a.append(e,o,r,s),b.append(a)}}L.addEventListener("click",x);w.addEventListener("click",C);w.style.display="none";function x(){b.innerHTML="",c=c+y,P(c,c+y),w.style.display="block",c==15&&(L.style.display="none")}function C(){b.innerHTML="",c=c-y,P(c,c+y),c==0&&(w.style.display="none"),c<15&&(L.style.display="block")}const k=document.querySelector(".popular-page__content"),_=document.querySelector(".arrow-next"),g=document.querySelector(".arrow-prev");let d=[],l=0,v=5;async function q(){try{d=(await(await fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/collections?type=TOP_POPULAR_MOVIES&page=1",{method:"GET",headers:{"X-API-KEY":"dd146e83-6098-4c58-bea6-a52186942de2","Content-Type":"application/json"}})).json()).items,S(l,v),console.log(d)}catch(i){document.querySelector(".popular-page__title").innerHTML=`Кажется, что-то пошло не так: ${i.message}`,_.style.display="none";const n=document.createElement("img");n.style.margin="0 auto",n.src="src/img/popular/foni-papik-pro-8htj-p-kartinki-oshibka-na-prozrachnom-fone-25.png",k.append(n)}}function S(i,n){for(let t=i;t<n;t++){let a=document.createElement("div");a.classList.add("popular-page__content-item");let e=document.createElement("img");e.classList.add("popular-page__movie-image"),e.src=`${d[t].posterUrlPreview}`,e.alt=`${d[t].nameRu}`;let o=document.createElement("p");o.classList.add("popular-page__movie-info"),o.textContent=`${d[t].nameRu} (${d[t].year})`;let r=document.createElement("p");r.classList.add("popular-page__movie-genres"),r.textContent=`${d[t].genres.map(f=>`${f.genre}`).join(", ")}`;const s=document.createElement("a");s.textContent="Смотреть",s.className="popular-page__watch-button",s.setAttribute("href",`https://www.kinopoisk.ru/film/${d[t].kinopoiskId}/`),s.setAttribute("target","blank"),a.append(e,o,r,s),k.append(a)}}k&&_&&g&&(_.addEventListener("click",O),g.addEventListener("click",j),g.style.display="none");function O(){k.innerHTML="",l=l+v,S(l,l+v),g.style.display="block",l==15&&(_.style.display="none")}function j(){k.innerHTML="",l=l-v,S(l,l+v),l==0&&(g.style.display="none"),l<15&&(_.style.display="block")}const A=document.querySelector(".series-page__content"),E=document.querySelector(".seriesArrow_buttonNext"),$=document.querySelector(".seriesArrow_buttonPrev");let u=[],p=0,h=5;async function N(){try{u=(await(await fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/collections?type=TOP_250_TV_SHOWS&page=1",{method:"GET",headers:{"X-API-KEY":"dd146e83-6098-4c58-bea6-a52186942de2","Content-Type":"application/json"}})).json()).items,console.log(u),M(p,h)}catch(i){document.querySelector(".series-page__title").innerHTML=`Кажется, что-то пошло не так: ${i.message}`,E.style.display="none";const n=document.createElement("img");n.style.margin="0 auto",n.src="src/img/popular/foni-papik-pro-8htj-p-kartinki-oshibka-na-prozrachnom-fone-25.png",seriesContainerContainer.append(n)}}function M(i,n){for(let t=i;t<n;t++){let a=document.createElement("div");a.classList.add("series-page__content-item");let e=document.createElement("img");e.classList.add("series-page__movie-image"),e.src=`${u[t].posterUrlPreview}`,e.alt=`${u[t].nameRu}`;let o=document.createElement("p");o.classList.add("series-page__movie-info"),o.textContent=`${u[t].nameRu} (${u[t].year})`;let r=document.createElement("p");r.classList.add("series-page__movie-genres"),r.textContent=`${u[t].genres.map(f=>`${f.genre}`).join(", ")}`;const s=document.createElement("a");s.textContent="Смотреть",s.className="series-page__watch-button",s.setAttribute("href",`https://www.kinopoisk.ru/film/${u[t].kinopoiskId}/`),s.setAttribute("target","blank"),a.append(e,o,r,s),A.append(a)}}E.addEventListener("click",H);$.addEventListener("click",I);$.style.display="none";function H(){A.innerHTML="",p=p+h,M(p,p+h),$.style.display="block",p==15&&(E.style.display="none")}function I(){A.innerHTML="",p=p-h,M(p,p+h),p==0&&($.style.display="none"),p<15&&(E.style.display="block")}T();q();N();
