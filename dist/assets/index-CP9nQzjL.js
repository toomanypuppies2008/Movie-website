(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const j=document.querySelector(".div1"),H=document.querySelector(".div2"),O=document.querySelector(".description-container"),N=document.querySelector(".title-container"),I=document.querySelector(".year-container"),R=document.querySelector(".country-container"),J=document.querySelector(".genres-container"),U=document.querySelector(".button-container");let m=[];async function K(){try{m=(await(await fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/collections?type=TOP_POPULAR_ALL&page=1",{method:"GET",headers:{"X-API-KEY":"8a08d4f7-66e2-4e35-a1e3-4e977e919e37","Content-Type":"application/json"}})).json()).items,G()}catch(s){j.innerHTML=`Кажется, что-то пошло не так: ${s.message}`}}function G(){H.style.backgroundImage=`url(${m[0].posterUrlPreview})`;const s=document.createElement("h1");s.textContent=`${m[0].nameRu}`,s.className="home-page__title";const n=`Год выпуска: ${m[0].year}`,t=`${m[0].countries.map(i=>`${i.country}`).join(", ")}`,a=`${m[0].genres.map(i=>`${i.genre}`).join(", ")}`,e=document.createElement("a");e.textContent="Смотреть",e.className="home-page__watch-button",e.setAttribute("href",`https://www.kinopoisk.ru/film/${m[0].kinopoiskId}/`),e.setAttribute("target","blank");const o=document.createElement("p");o.textContent=`${m[0].description}`,o.className="home-page__description",N.append(s),I.append(n),R.append(t),J.append(a),O.append(o),U.append(e)}const L=document.querySelector(".movies-page__content"),M=document.querySelector(".movies-page__title"),w=document.querySelector(".moviesArrow_buttonNext"),$=document.querySelector(".moviesArrow_buttonPrev");let u=[],c=0,v=5;async function W(){try{if(u=(await(await fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/collections?type=TOP_250_MOVIES&page=1",{method:"GET",headers:{"X-API-KEY":"8a08d4f7-66e2-4e35-a1e3-4e977e919e37","Content-Type":"application/json"}})).json()).items,u.length===0){M.innerHTML="Тут пусто =(";return}S(c,v)}catch(s){M.innerHTML=`Кажется, что-то пошло не так: ${s.message}`,w.style.display="none";const n=document.createElement("img");n.style.margin="0 auto",n.src="src/img/popular/foni-papik-pro-8htj-p-kartinki-oshibka-na-prozrachnom-fone-25.png",L.append(n)}}function S(s,n){for(let t=s;t<n;t++){let a=document.createElement("div");a.classList.add("movies-page__content-item");let e=document.createElement("img");e.classList.add("movies-page__movie-image"),e.src=`${u[t].posterUrlPreview}`,e.alt=`${u[t].nameRu}`;let o=document.createElement("p");o.classList.add("movies-page__movie-info"),o.textContent=`${u[t].nameRu} (${u[t].year})`;let i=document.createElement("p");i.classList.add("movies-page__movie-genres"),i.textContent=`${u[t].genres.map(g=>`${g.genre}`).join(", ")}`;const r=document.createElement("a");r.textContent="Смотреть",r.className="movies-page__watch-button",r.setAttribute("href",`https://www.kinopoisk.ru/film/${u[t].kinopoiskId}/`),r.setAttribute("target","blank"),a.append(e,o,i,r),L.append(a)}}w.addEventListener("click",X);$.addEventListener("click",Y);$.style.display="none";function X(){L.innerHTML="",c=c+v,S(c,c+v),$.style.display="block",c==15&&(w.style.display="none")}function Y(){L.innerHTML="",c=c-v,S(c,c+v),c==0&&($.style.display="none"),c<15&&(w.style.display="block")}const b=document.querySelector(".popular-page__content"),_=document.querySelector(".arrow-next"),y=document.querySelector(".arrow-prev"),q=document.querySelector(".popular-page__title");let d=[],p=0,h=5;async function z(){try{if(d=(await(await fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/collections?type=TOP_POPULAR_MOVIES&page=1",{method:"GET",headers:{"X-API-KEY":"8a08d4f7-66e2-4e35-a1e3-4e977e919e37","Content-Type":"application/json"}})).json()).items,d.length===0){q.innerHTML="Тут пусто =(";return}T(p,h)}catch(s){q.innerHTML=`Кажется, что-то пошло не так: ${s.message}`,_.style.display="none";const n=document.createElement("img");n.style.margin="0 auto",n.src="src/img/popular/foni-papik-pro-8htj-p-kartinki-oshibka-na-prozrachnom-fone-25.png",b.append(n)}}function T(s,n){for(let t=s;t<n;t++){let a=document.createElement("div");a.classList.add("popular-page__content-item");let e=document.createElement("img");e.classList.add("popular-page__movie-image"),e.src=`${d[t].posterUrlPreview}`,e.alt=`${d[t].nameRu}`;let o=document.createElement("p");o.classList.add("popular-page__movie-info"),o.textContent=`${d[t].nameRu} (${d[t].year})`;let i=document.createElement("p");i.classList.add("popular-page__movie-genres"),i.textContent=`${d[t].genres.map(g=>`${g.genre}`).join(", ")}`;const r=document.createElement("a");r.textContent="Смотреть",r.className="popular-page__watch-button",r.setAttribute("href",`https://www.kinopoisk.ru/film/${d[t].kinopoiskId}/`),r.setAttribute("target","blank"),a.append(e,o,i,r),b.append(a)}}b&&_&&y&&(_.addEventListener("click",V),y.addEventListener("click",D),y.style.display="none");function V(){b.innerHTML="",p=p+h,T(p,p+h),y.style.display="block",p==15&&(_.style.display="none")}function D(){b.innerHTML="",p=p-h,T(p,p+h),p==0&&(y.style.display="none"),p<15&&(_.style.display="block")}const C=document.querySelector(".series-page__content"),E=document.querySelector(".seriesArrow_buttonNext"),P=document.querySelector(".seriesArrow_buttonPrev"),x=document.querySelector(".series-page__title");let f=[],l=0,k=5;async function B(){try{if(f=(await(await fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/collections?type=TOP_250_TV_SHOWS&page=1",{method:"GET",headers:{"X-API-KEY":"8a08d4f7-66e2-4e35-a1e3-4e977e919e37","Content-Type":"application/json"}})).json()).items,f.length===0){x.innerHTML="Тут пусто =(";return}A(l,k)}catch(s){x.innerHTML=`Кажется, что-то пошло не так: ${s.message}`,E.style.display="none";const n=document.createElement("img");n.style.margin="0 auto",n.src="src/img/popular/foni-papik-pro-8htj-p-kartinki-oshibka-na-prozrachnom-fone-25.png",seriesContainerContainer.append(n)}}function A(s,n){for(let t=s;t<n;t++){let a=document.createElement("div");a.classList.add("series-page__content-item");let e=document.createElement("img");e.classList.add("series-page__movie-image"),e.src=`${f[t].posterUrlPreview}`,e.alt=`${f[t].nameRu}`;let o=document.createElement("p");o.classList.add("series-page__movie-info"),o.textContent=`${f[t].nameRu} (${f[t].year})`;let i=document.createElement("p");i.classList.add("series-page__movie-genres"),i.textContent=`${f[t].genres.map(g=>`${g.genre}`).join(", ")}`;const r=document.createElement("a");r.textContent="Смотреть",r.className="series-page__watch-button",r.setAttribute("href",`https://www.kinopoisk.ru/film/${f[t].kinopoiskId}/`),r.setAttribute("target","blank"),a.append(e,o,i,r),C.append(a)}}E.addEventListener("click",F);P.addEventListener("click",Q);P.style.display="none";function F(){C.innerHTML="",l=l+k,A(l,l+k),P.style.display="block",l==15&&(E.style.display="none")}function Q(){C.innerHTML="",l=l-k,A(l,l+k),l==0&&(P.style.display="none"),l<15&&(E.style.display="block")}K();W();z();B();
